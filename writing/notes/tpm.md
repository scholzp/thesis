# General

*trust by identity 
trust is trustworthy expected behavior
tpm not part of tcb but allows third party detection of compromised components
transitive trust of functions
systems consist of trust building blocks
manufacturer of tbb decide what configuration is trustworthy
lpc bus
tpm constructed diretlyor indirectly from physical ressources
platform cofiguratio register (pcr) content visible
platform certificat proof that authority assures that TPm measures platform state


The TPM offers different cryptographically functions, such as hash functions,
asymmetric and symmetric encryption and decryption functions and asymmetric
signing and verification functions and key generations functions. For this, the
specification of TPM mentions the following functions:
- at least one asymmetric
hash function
- hash functions are used for PCR extension
- hash message authentication code (hmac) can be used to to provide evidence that data was not
modified and origins form a certain entity that possess the signing key
- asymmetric algorithms for attestation, identification, and secret sharing (RSA
and ECC)
- ticket that is hmac that uses a proof value as key
-- resign digest
with symmetric key
-- expand state memory of externally stored data that was not
generated by the TPM
- symmetric encryption: Parameter encryption
- extend function for incremental updates of digest values, for example PCRs
- key generations by built-in RNG or derived form another secret
- can reject known weak keys in algorithms
- endorsement key for identification of a TPM. eK is
kept secret and never used by the TPM. The public part can be used to identify
the TPM, as it is backed by a certificate from the manufacturer. Public part
will be used for key generation
- algortihms agility: Specification leaves free choice of crypto algorithms
- HMAC-ing: MAC to which's input an symmetric authentication key is added by either the
sender or the TPM. Only those who know the key can calculate the HMAC. This serves the TPM
to ensure integrety of data coming from outside the TPM
- digest = result of hash
- Ticket HAMC that allows TPM to later validate that an operation was performed by it
- TSS (TPM Software Stack) as the TPM's driver
* Certification authority to trust (vendor of the TPM)
* asymmetric Endorsement key (EK) as identity, Public part   
* x.509 PKI certificates
* EK certificate my reside in NV memory in the TPM
* With the public part of the EK the certificate of the 
* mapped to 0xFED4xxxx (Whats with multiple TPM?)
* 


# PCR
* Registers that only support extend operation
* Represent software state through a measurement (cryptographic hash)
* First measurement after boot is called core root of trust measurement (CRTM)

# TPM Development
* [Qemu](https://qemu-project.gitlab.io/qemu/specs/tpm.html) can emulate or passthrough
* [Practical Guide](https://library.oapen.org/bitstream/handle/20.500.12657/28157/1/1001837.pdf)
* [PC Client specification](https://trustedcomputinggroup.org/wp-content/uploads/Errata-Version-1.2-Revision-5-for-PC-Client-Platform-TPM-Profile-for-TPM-2.0-Version-1.05-Revision-14_pub.pdf)
